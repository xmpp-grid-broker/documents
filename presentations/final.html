<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/simple.css" id="theme">
    <link rel="stylesheet" href="css/github.css">
</head>

<body>
<div class="reveal">
    <div class="slides">
        <section>
            <img src="images/logo.svg" style="border: none;box-shadow: none;height: 20vh;"/>
            <h2>XMPP-Grid Broker</h2>
            <h3>Final Presentation</h3>
            <small>Raphael Zimmermann &amp; Fabian Hauser</small>

            <aside class="notes" data-markdown>
<small>Raphael</small>
* Häufigste Reaktion: Was ist denn ein XMPP-Grid Broker???

* Begrüssung
* Vorstellung Personen

* Sprache: Hochdeutsch?
* Vorschlag: Fragen nach der Präsentation, ausser unklarheiten und wichtige Fragen
        </section>
        <section>
            <h2>🔭 Outline</h2>
            <ol>
                <li>Problem Description</li><!-- Fabian -->
                <li>Our Solution (Demo)</li><!-- Grafik: Fabian; Demo: Raphael -->
                <li>Our Focus</li><!-- Raphael -->
                <li>Conclusion</li><!-- Fabian -->
                <li>Questions</li>
            </ol>

            <aside class="notes" data-markdown>
<small>Raphael</small>

* Problem Description
* Our Solution (Demo)
* Our Focus
* Conclusion
* Questions
            </aside>
        </section>

        <section data-background-color="#3634d2">
            <h1>🏋<br>The Problem</h1>

            <aside class="notes" data-markdown>
<small>Fabian</small>

* eigentliches Problem, welches gelöst werden soll
            </aside>
        </section>

        <section>
            <h3>🔏 Challenge: Exchange Security Data</h3>
            <img src="images/explanatory-graphics-problem.svg"
                alt="problem explanatory graphic"
                style="height: 560px;">

            <aside class="notes" data-markdown>
<small>Fabian</small>

* Grosse Netzwerke, in denen Sicherheitsinfos anfallen
* Devices, auf welchen die Infos anfallen
* Devices, welche interessiert sind
* Publisher und Subscriber
* Bisher Peer to Peer

            </aside>
        </section>
        <section>
            <h3>📚 IETF Draft</h3>
            <div>
                <small>"Using XMPP for Security Information Exchange"</small>
            </div>
            <img src="images/explanatory-graphics-ietf-draft.svg" alt="ietf draft explanatory graphic"
                 style="height: 500px;">

            <aside class="notes" data-markdown>
<small>Fabian</small>

* Lösung von IETF MILE WG: XMPP-Grid
* Zentraler Bus mit Publish-Subscribe
* Peer-to-Peer möglich, aber zentral verwaltet (permissions)
            </aside>
        </section>
        <section>
            <h3>🎉 XMPP-Grid Broker</h3>
            <img src="images/explanatory-graphics-xmpp-grid-broker.svg"
                alt="xmpp-grid-broker explanatory graphic"
                 style="height: 500px;">

            <aside class="notes" data-markdown>
<small>Fabian</small>

* Unsere Arbeit
* Verwalten von XMPP-Grid
* Vor allem ein Interface
            </aside>
        </section>
        <section>
            <h3>🗃 Task Description</h3>
            <aside class="notes" data-markdown>
<small>Fabian</small>

* Aufgabenstellung
            </aside>
            <ul style="list-style-type: none;">
                <li class="fragment highlight-current-red">✓ Understand the Standards (IETF, XEPs)
                    <aside class="notes" data-markdown>
* Analysieren und Verstehen der Standards
                    </aside>
                </li>
                <li>✓ Collect Requirements</li>
                <li>✓ Architecture</li>
                <li>✓ Technology Selection</li>
                <li>✓ Implementation</li>
            </ul>
            <p>
                <small>
                    <a href="https://xmpp-grid-broker.github.io/documents/final-submission-document.pdf#0">Full Task
                        Description</a>
                </small>
            </p>
        </section>
        <section>
            <h3>📜 Understanding the Standards</h3>
            <div class="standard-container">
                <div class="standard-box fragment highlight-current-red"></div>
            </div>

            <aside class="notes" data-markdown>
<small>Fabian</small>

* XMPP-Grid Draft: Basiert auf RFCs und XEPs
* XEP: XMPP Extension Protocols

----

* RFC6120: XMPP
* RFC7395: WebSockets
* XEP-0004: Data Forms
* XEP-0030: Service Discovery
* XEP-0059: Result Management
* XEP-0060: PubSub
* XEP-0206: XMPP over BOSH
* XEP-0248: PubSub Collection Nodes
            </aside>
        </section>

        <section>
            <h3>🗃 Task Description</h3>
            <aside class="notes" data-markdown>
<small>Fabian</small>

* Zurück zur Aufgabenstellung
            </aside>
            <ul style="list-style-type: none;">
                <li>✓ Understand the Standards (IETF, XEPs)</li>
                <li class="fragment highlight-current-red">✓ Collect Requirements
                    <aside class="notes" data-markdown>
* Gegen 40 Requirements
                    </aside>
                </li>
                <li class="fragment highlight-current-red">✓ Architecture
                    <aside class="notes" data-markdown>
* Aufbau Architektur
                    </aside>
                </li>
                <li class="fragment highlight-current-red">✓ Technology Selection
                    <aside class="notes" data-markdown>
* Wahl beste Technologie
* Kein direkter Kunde, darum Umfeld relativ frei
                    </aside>
                </li>
                <li class="fragment highlight-current-red">✓ Implementation
                    <aside class="notes" data-markdown>
* Hauptteil:  Implementation
* Production Ready
                    </aside>
                </li>
            </ul>
        </section>

        <section data-background-color="#3634d2">
            <h1>🏗<br>Our Solution</h1>

            <aside class="notes" data-markdown>
<small>Fabian</small>

* Unsere Lösung für dieses Problem
            </aside>
        </section>

        <section>
            <h2>🛠️ Development Setup</h2>
            <img src="images/development-setup-uml.svg" alt="xmpp-grid-broker explanatory graphic">

            <aside class="notes" data-markdown>
<small>Fabian</small>

* Entwicklungsumgebung **ähnlich Prod**.
* Alles beim **Developer**
* **Docker** Container
  * **Reproduzierbarkeit** und einfaches **Setup**
* Openfire **XMPP-Server** und **Angular** Development Server
* **Proxy** dazwischen
  * **wegen** TLS und **Security**
* Applikation läuft in Browser

---

* Sicherheit: "Security Pattern - Integrating security and systems engineering" -  Protection reverse proxy / Integration reverse proxy
            </aside>
        </section>
        <section>
            <h2>💻 Demo</h2>
            <p>
                <a href="https://xgb.localhost.redbackup.org/" target="_blank">🚀 Launch</a>
            </p>

            <aside class="notes" data-markdown>
<small>Raphael</small>

Frage: Falls bereits ausprobiert, nur kurze Demo

* Neue Collection erzeugen "MyDemoCollection!()"
* Config:
  * Children: Topic #1
  * Parent: Root #1
* Subtopic Tab ist nicht mehr leer -> Gehe zu Topic #1
* Zeige Parent Tab
* Zeige Persisted Items
  * Und Paging
  * Zeige XML Content
  * Zeige Purge

## Vorbereitung

* Neue Collection "Root #1"
* Neues Topic "Topic #1"
* Einstellungen -> Persist items & Persiste 100 items
* > 50 persisted Items erstellen
* => Branch mit OpenFire
            </aside>
        </section>

        <section data-background-color="#3634d2">
            <h1>🔬<br>Our Focus</h1>

            <aside class="notes" data-markdown>
<small>Raphael</small>
* Ein Proof-of-Concept existierte bereits - in python als CLI
* Ziel nicht "ob es geht" sondern ideale Lösung finden

* Fokus hervorgehend aus
  * Task Description
  * Requirements
  * weiterführenden Überlegungen
            </aside>
        </section>

        <section>
            <h3>🎯 Design Goals</h3>
<aside class="notes" data-markdown>
    <small>Raphael</small>

* Haben uns auf folgende Punkte fokussiert
</aside>
            <ul style="list-style-type: none;">
                <li class="fragment highlight-current-red">🔒 Security
                    <aside class="notes" data-markdown>
* Analyse im Vorfeld => Siehe Doku
* Architectural review
* Zusätzlich: Security-Tipps für Produktion
                    </aside>
                </li>
                <li class="fragment highlight-current-red">🖥️ Cross-Plattform
                    <aside class="notes" data-markdown>
* Motivation: Produktions-Umgebung unklar
* Web + Proxy = max. flexibilität
                    </aside>
                </li>
                <li class="fragment highlight-current-red">⏲️ Long-Term Maintainability
                    <aside class="notes" data-markdown>
* Minimale Abhängigkeiten
  * u.a. Grund für Angular => Alles in einem "Paket"
                    </aside>
                 </li>
                <li class="fragment highlight-current-red">🐳 Reproducibility
                    <aside class="notes" data-markdown>
* Alles automatisieren => reproduzierbar
* u.a.:
  * Development environment
  * Release (Tag)
  * Document export / Website (ZIP)
                    </aside>
                </li>
            </ul>
        </section>
        <section>
            <h3>👷 Software Engineering</h3>

            <aside class="notes" , data-markdown>
<small>Raphael</small>

* Design-Aspekte sind klassische SE-Aspekte
* **Qualität vor Quantität**
* Nächste Slides: Einige Erwähnenswerte Aufände
            </aside>
        </section>

        <section>
            <h3>🏗 Architectural Decisions</h3>
            <img src="images/architectural-decisions.png" alt="Archtectural Decisions PDF" style="max-height: 560px;">

            <aside class="notes" data-markdown>
<small>Raphael</small>

* Tool bekannt aus Modul AppArch
* Unterstützt systematische Entscheidung für Architektur/Technologiewahl
* Hat sich bewährt
  * diskussionsgrundlage
  * Nachvollziebarkeit (wartbarkeit)
            </aside>
        </section>

        <section>
            <h3>🔍 Code Reviews</h3>
            <p>124 Pull-Requests on GitHub</p>
            <img src="images/review-screenshot.png" alt="An example review" style="max-height: 560px;">

            <aside class="notes" data-markdown>
<small>Raphael</small>

* Prozess Massnahme
* Jede Zeile von 4 Augen angeschaut
* Ziel: Hochwertiger Code!
* Definition of Done unterstützt mit "Checkliste"
            </aside>
        </section>

        <section>
            <h3>♼ Continuous Integration</h3>
            <p>
                <small>Also with documentation</small>
            </p>
            <img src="images/ci-builds.png" alt="Number of Builds on Travis">

            <aside class="notes" data-markdown>
<small>Raphael</small>

* Prozess Massnahme
* Sehr intensiv für alles genutzt
* Mehr als ein Build pro Arbeitsstunde im Projekt!
* Bessere Wartbarkeit und Konfidenz
            </aside>
        </section>

        <section>
            <h3>📊 Testability</h3>
            <canvas id="locChart"></canvas>
            324 Test Cases

            <aside class="notes" data-markdown>
<small>Raphael</small>

* Wie in Dokumentation erwähnt, haben wir intensiv getestet
* Mehr als doppelt Test-Zeilen wie Application Code
* LOC:
    * Entsprechen ungefähr SE-Schnitt für hochwertigen Code
    * Vlg. SE2-Vorlesung 'Aufwandschätzungen' (FS 2017)
            </aside>
        </section>

        <section data-background-color="#3634d2">
            <h1>💭<br>Conclusion</h1>
            <aside class="notes" data-markdown>
<small>Fabian</small>

* Fazit
            </aside>
        </section>

        <section>
            <h3>🔧 Technical Conclusions</h3>
            <aside class="notes" data-markdown>
<small>Fabian</small>

* Technisches Fazit
            </aside>
            <ul>
                <li class="fragment highlight-current-red">XMPP PubSub is still a draft
                    <aside class="notes" data-markdown>
<small>Raphael</small>

* Basis-XEPs immer noch draft
  * Verschiedene Versionen und änderungen
  * Implementierte Version wird nicht ausgewiesen
  * Daher langlebigkeit und support sehr schwierig zu garantieren
* z.B. PubSub Collection Nodes extrahiert, ist *aber deferred*
                    </aside>
                </li>
                <li class="fragment highlight-current-red">SASL EXTERNAL + Browser = 💔
                    <aside class="notes" data-markdown>
<small>Fabian</small>

* Client certificates wegen draft empfehlung
* Wahl zwischen Passwörter und Zertifikat
  * Zertifikat von uns bevorzugt
* Mit Browsern diverse Fallstricke
  * z.B. Logout nicht möglich
                    </aside>
                </li>
                <li class="fragment highlight-current-red">Angular + TDD = 💔
                    <aside class="notes" data-markdown>
<small>Raphael</small>

* Unterschiedliche Umgebung in Unit Tests und Browser
* TDD nur als Angular-Expert möglich
                    </aside>
                </li>
            </ul>
        </section>

        <section>
            <h3>🎓 Personal Conclusions</h3>
            <aside class="notes" data-markdown>
<small>Fabian</small>

* Persönliches Fazit
            </aside>

            <ul>
                <li class="fragment highlight-current-red">Interesting Project
                    <aside class="notes" data-markdown>
<small>Fabian</small>

* Motivierendes Problem, produktive Anwendung zu machen
  * Starker Fokus auf SE
* Hatten nicht mit Angular Applikation gerechnet
                    </aside>
                </li>
                <li class="fragment highlight-current-red">Most requirements implemented*
                    <aside class="notes" data-markdown>
<small>Raphael</small>

* Wichtigste 90% Requirements implementiert
* Fehlenden Funktionen im Standard
  * Ein paar Requirements nicht ausprogrammiert, da nicht effizient möglich
                    </aside>
                </li>
                <li class="fragment highlight-current-red">Working with many standards (drafts)
                    <aside class="notes" data-markdown>
<small>Fabian</small>

* Arbeit direkt mit Standards neu im Studium
* Schwierig mit Standards:
  * "Optional"
  * Versionierung und Stable/Draft von Standard
* Vorsicht mit Samples in Standards - erst formelle Spezifikation, sonst Trugschlüsse
                    </aside>
                </li>
            </ul>
            <br>
            <p>
                <small>
                    <small>* See final submission document for details</small>
                </small>
            </p>

        </section>
        <section>
            <h3>✨ Future</h3>
            <ul>
                <li>Application in production</li>
                <li>Good basis that can be built upon</li>
                <li>XMPP-Grid Draft → Standard</li>
            </ul>

            <aside class="notes" data-markdown>
<small>Fabian</small>

* Blick in die Zukunft
* Applikation in Produktion bewähren
* Stabile Basis, weitere Funktionen hinzufügen
* Hoffen, unser Beitrag hilft standardisierung
            </aside>
        </section>
        <section data-background-color="#3634d2">
            <h1>🔥<br>Thank you!</h1>
            <h2>Questions?</h2>

            <aside class="notes" data-markdown>
<small>Fabian</small>

* Danke für Interesse
* Stehen jetzt gerne für Fragen zur Verfügung
            </aside>
        </section>
    </div>
</div>
<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script src="js/chartjs-2.7.2.min.js"></script>
<script>
    Reveal.initialize({
        controls: false,
        slideNumber: true,
        transition: 'none', // none/fade/slide/convex/concave/zoom
        history: true,
        viewDistance: 10,
        dependencies: [
            {src: 'socket.io/socket.io.js', async: true},
			{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
			{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
			{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
			{ src: 'plugin/notes/notes.js', async: true }
        ],
    });

    var locChart = new Chart(document.getElementById('locChart'), {
        type: 'horizontalBar',
        data: {
            labels: ['Unit Tests', 'Integration Tests', 'Application Code', 'HTML + CSS'],
            datasets: [{
                label: "Lines of Code",
                data: [5347, 994, 2060, 763],
                backgroundColor: ["rgba(255, 99, 132, 0.2)", "rgba(255, 99, 132, 0.2)"],
            }],
        },
        options: {
            scales: {
                xAxes: [{
                    ticks:
                        {beginAtZero: true}
                }]
            },
            legend: {
                display: false
            }
        }
    });

</script>

</body>

</html>
